@*@model IList<BowlingWeb.Models.Member>*@

@{
    ViewBag.Title = "Upload Features";
}

<h1>上傳檔案</h1>
<h1>上傳檔案</h1>

@using (
    Html.BeginForm(
      "Upload", "Member", FormMethod.Post, new { enctype = "multipart/form-data" })
    )
{
    <div class="mb-1">
        <label for="formFile" class="form-label">上傳檔案</label>
        @Html.TextBox("files", "",
          new { type = "file", multiple = "multiple", @class = "d-block" })
        <br />
    </div>
    <div class="mb-3 d-flex">
        <ion-icon name="cloud-upload-outline" style="font-size: 2rem"></ion-icon>
        <input type="submit"
               value="上傳"
               class="btn btn-primary ml-3"
               id="uploadBtn"
               disabled />
        <br />
    </div>
}

@*@if (Context.Request.HttpMethod == "POST")
{
    <div class="row mb-5">
        @foreach (var file in Model)
        {
            <div class="col-4 d-flex mb-3">
                <div class="card">
                    <div style="overflow: hidden; height: 200px">
                        <img class="card-img-top" src="~/uploads/@file.FileName">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">@file.FileName</h5>
                        <p class="card-text">
                            @(file.FileSize / 1024) KB
                        </p>
                        <a href="#" class="btn btn-outline-danger">Like</a>
                    </div>
                </div>
            </div>
        }
    </div>
}*@

@section scripts{
    <script>
    $(document).ready(function () {
        $('#files').change(function(){

            if ($('#files')[0].files.length > 0) {
                $('#uploadBtn').removeAttr('disabled');
            }
            else {
                $('#uploadBtn').attr('disabled', true)
            }
        })
    })
    </script>
}